!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("@0x33.io/wasmrunner",[],n):"object"==typeof exports?exports["@0x33.io/wasmrunner"]=n():e["@0x33.io/wasmrunner"]=n()}(this,(function(){return(()=>{"use strict";var __webpack_modules__={375:(__unused_webpack_module,exports,__webpack_require__)=>{eval('\n//--------------------------------------------------------------------------------------------------\n// <auto-generated>\n//     This code was generated by Wasm.SDK.\n//\n//     Changes to this file may cause incorrect behavior and will be lost if the code is regenerated.\n// </auto-generated>\n//--------------------------------------------------------------------------------------------------\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nvar wasmShared_1 = __webpack_require__(164);\nvar WasmRunner = /** @class */ (function () {\n    function WasmRunner(args) {\n        BINDING.bindings_lazy_init();\n        var keyConstraints = Object.keys(args).map(function (x) { return "".concat(x, ": ").concat(typeof args[x]); }).join(" | ");\n        console.log(keyConstraints);\n        switch (keyConstraints) {\n            case "baseUri: string": {\n                this.gcHandlePtr = (0, wasmShared_1.invokeMethod)(WasmRunner.ctor1Ptr, 0, "s", [args.baseUri]);\n                break;\n            }\n            default: throw new Error("Unsupported constructor definition");\n        }\n    }\n    Object.defineProperty(WasmRunner.prototype, "gcHandle", {\n        /** @internal */\n        get: function () {\n            return this.gcHandlePtr;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WasmRunner, "assemblyPtr", {\n        get: function () {\n            if (!WasmRunner._assemblyPtr) {\n                WasmRunner._assemblyPtr = BINDING.assembly_load("WasmRunner");\n            }\n            return WasmRunner._assemblyPtr;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WasmRunner, "classPtr", {\n        get: function () {\n            if (!WasmRunner._classPtr) {\n                WasmRunner._classPtr = BINDING.find_class(WasmRunner.assemblyPtr, "WasmRunner", "_WasmRunner");\n            }\n            return WasmRunner._classPtr;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WasmRunner, "ctor1Ptr", {\n        get: function () {\n            if (!WasmRunner._ctor1Ptr) {\n                WasmRunner._ctor1Ptr = (0, wasmShared_1.getMethodInfo)(WasmRunner.classPtr, "WasmRunner_wctor1", 1);\n            }\n            return WasmRunner._ctor1Ptr;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WasmRunner, "executeAssemblyPtr", {\n        get: function () {\n            if (!WasmRunner._executeAssemblyPtr) {\n                WasmRunner._executeAssemblyPtr = (0, wasmShared_1.getMethodInfo)(WasmRunner.classPtr, "_ExecuteAssembly", 1);\n            }\n            return WasmRunner._executeAssemblyPtr;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WasmRunner.prototype.executeAssembly = function (assembly) {\n        (0, wasmShared_1.invokeMethod)(WasmRunner.executeAssemblyPtr, this.gcHandlePtr, "o", [assembly]);\n    };\n    WasmRunner.prototype.free = function () {\n        wasmShared_1.WasmHelper.free(this);\n    };\n    return WasmRunner;\n}());\nexports.default = WasmRunner;\n\n\n//# sourceURL=webpack://@0x33.io/wasmrunner/./src/WasmRunner.ts?')},556:function(__unused_webpack_module,exports){eval('\n//--------------------------------------------------------------------------------------------------\n// <auto-generated>\n//     This code was generated by Wasm.SDK.\n//\n//     Changes to this file may cause incorrect behavior and will be lost if the code is regenerated.\n// </auto-generated>\n//--------------------------------------------------------------------------------------------------\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nvar WasmRunnerWorkerProxy = /** @class */ (function () {\n    function WasmRunnerWorkerProxy() {\n    }\n    Object.defineProperty(WasmRunnerWorkerProxy.prototype, "controller", {\n        set: function (value) {\n            this._controller = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WasmRunnerWorkerProxy.CreateProxy = function (type) {\n        var _instance = new type();\n        var proxy = {\n            executeAssembly: _instance.executeAssembly.bind(_instance),\n            free: _instance.free.bind(_instance),\n        };\n        return {\n            proxy: proxy,\n            _instance: _instance\n        };\n    };\n    WasmRunnerWorkerProxy.prototype.ensureControllerSet = function () {\n        if (!this._controller) {\n            throw new Error("The Controller WasmRunner is not initialized");\n        }\n    };\n    WasmRunnerWorkerProxy.prototype.executeAssembly = function (assembly) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.ensureControllerSet();\n                        return [4 /*yield*/, this._controller.executeAssembly(assembly)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    WasmRunnerWorkerProxy.prototype.free = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.ensureControllerSet();\n                        return [4 /*yield*/, this._controller.free()];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return WasmRunnerWorkerProxy;\n}());\nexports.default = WasmRunnerWorkerProxy;\n\n\n//# sourceURL=webpack://@0x33.io/wasmrunner/./src/WasmRunnerWorkerProxy.ts?')},607:(__unused_webpack_module,exports,__webpack_require__)=>{eval('\n//--------------------------------------------------------------------------------------------------\n// <auto-generated>\n//     This code was generated by Wasm.SDK.\n//\n//     Changes to this file may cause incorrect behavior and will be lost if the code is regenerated.\n// </auto-generated>\n//--------------------------------------------------------------------------------------------------\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.WasmRunnerWorkerProxy = exports.WasmRunner = void 0;\nvar WasmRunner_1 = __webpack_require__(375);\nObject.defineProperty(exports, "WasmRunner", ({ enumerable: true, get: function () { return WasmRunner_1.default; } }));\nvar WasmRunnerWorkerProxy_1 = __webpack_require__(556);\nObject.defineProperty(exports, "WasmRunnerWorkerProxy", ({ enumerable: true, get: function () { return WasmRunnerWorkerProxy_1.default; } }));\n\n\n//# sourceURL=webpack://@0x33.io/wasmrunner/./src/index.ts?')},164:(__unused_webpack_module,exports)=>{eval('\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.WasmHelper = exports.getMethodInfo = exports.invokeMethod = void 0;\nfunction invokeMethod(fqn, thisArg, signature, args) {\n    var instancePtr = 0;\n    if (thisArg) {\n        // Get class instance Ptr from gcHandle\n        instancePtr = BINDING.wasm_get_raw_obj(thisArg);\n        // Make sure it hasn\'t been disposed.\n        if (!instancePtr) {\n            throw "CalculatorController has been disposed. Attempted to call method on a GCed instance";\n        }\n    }\n    return BINDING.call_method(fqn, instancePtr, signature, args);\n}\nexports.invokeMethod = invokeMethod;\nfunction getMethodInfo(classPtr, methodFqn, parametersCount) {\n    return BINDING.find_method(classPtr, methodFqn, parametersCount);\n}\nexports.getMethodInfo = getMethodInfo;\nvar WasmHelper = /** @class */ (function () {\n    function WasmHelper() {\n    }\n    Object.defineProperty(WasmHelper, "assemblyPtr", {\n        get: function () {\n            if (!WasmHelper._assemblyPtr) {\n                WasmHelper._assemblyPtr = BINDING.assembly_load("Wasm.Sdk");\n            }\n            return WasmHelper._assemblyPtr;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WasmHelper, "classPtr", {\n        get: function () {\n            if (!WasmHelper._classPtr) {\n                WasmHelper._classPtr = BINDING.find_class(WasmHelper.assemblyPtr, "Wasm.Sdk", "WasmHelper");\n            }\n            return WasmHelper._classPtr;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WasmHelper, "freePtr", {\n        get: function () {\n            if (!WasmHelper._freePtr) {\n                WasmHelper._freePtr = getMethodInfo(WasmHelper.classPtr, "FreeGCHandle", 1);\n            }\n            return WasmHelper._freePtr;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WasmHelper.free = function (wasmResource) {\n        invokeMethod(WasmHelper.freePtr, 0, "i", [wasmResource.gcHandle]);\n    };\n    return WasmHelper;\n}());\nexports.WasmHelper = WasmHelper;\n\n\n//# sourceURL=webpack://@0x33.io/wasmrunner/./src/wasmShared.ts?')}},__webpack_module_cache__={};function __webpack_require__(e){if(__webpack_module_cache__[e])return __webpack_module_cache__[e].exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}return __webpack_require__(607)})()}));